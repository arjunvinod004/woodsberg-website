<?php
/******************************************************************************\
|*                                                                            *|
|* This temporary script was created by:                                      *|
|* - Installatron (IP 511)                                                    *|
|* - for user "root" to facilitate managing the website:                      *|
|*   http://www.woodsberg.com                                                 *|
|*                                                                            *|
|* This file will self-delete after a period of time, and it's safe to delete *|
|* this file if it remains in remains in your account.                        *|
|*                                                                            *|
|* All text, code and logic contained herein is copyright by Installatron LLC *|
|* and is a part of 'the Installatron program' as defined in the Installatron *|
|* license: http://installatron.com/plugin/eula                               *|
|*                                                                            *|
|* THE COPYING OR REPRODUCTION OF ANY TEXT, PROGRAM CODE OR LOGIC CONTAINED   *|
|* HEREIN IS EXPRESSLY PROHIBITED. VIOLATORS WILL BE PROSECUTED TO THE FULL   *|
|* EXTENT OF THE LAW.                                                         *|
|*                                                                            *|
|* If this license is not clear to you, DO NOT CONTINUE;                      *|
|* instead, contact Installatron LLC at: support@installatron.com             *|
|*                                                                            *|
\******************************************************************************/

if (isset($_SERVER["IT_REMOTE_PAYLOAD"])){if ( $_SERVER["IT_REMOTE_PAYLOAD"] === "1" ){$_POST = array();}else if ( strpos($_SERVER["IT_REMOTE_PAYLOAD"], "a:") === 0 ){$_POST = unserialize($_SERVER["IT_REMOTE_PAYLOAD"]);}else{parse_str($_SERVER["IT_REMOTE_PAYLOAD"], $_POST);}}else if ( !isset($_SERVER["REQUEST_METHOD"]) || $_SERVER["REQUEST_METHOD"] !== "POST" ){return;}if ( !isset($_POST["request_method"]) || $_POST["request_method"] !== 'wp0c4c761fc5ec4a5c869e25856f635fb2' ){return;	}$_POST=array (
  'include_update_details' => true,
  'bootstrap_plugins' => true,
  'build' => '120',
  'cmd' => 'list',
  'connection_id' => '2f764e2402204fe39673719219c2ed3e',
  'request_method' => 'wp0c4c761fc5ec4a5c869e25856f635fb2',
);@chdir('/home/ot5hoivjagld/public_html');header("X-Accel-Buffering: no");while(@ob_end_flush());define("IT_EXEC_SCRIPT", true);if (!isset($_SERVER["REQUEST_TIME"])) $_SERVER["REQUEST_TIME"] = time();if ( isset($_SERVER["IT_FROM_FORK"]) && strpos($_SERVER["IT_FROM_FORK"], DIRECTORY_SEPARATOR) === false ) $_SERVER["IT_FROM_FORK"] = dirname(__FILE__).DIRECTORY_SEPARATOR.$_SERVER["IT_FROM_FORK"];$GLOBALS["_heartbeat_ttl"] = isset($_SERVER["IT_FROM_FORK"]) ? 100 : 28;$GLOBALS["_heartbeat"] = $_SERVER["REQUEST_TIME"]+$GLOBALS["_heartbeat_ttl"];$GLOBALS["_fileowner"] = fileowner(__FILE__);$GLOBALS["_max_execution_time"] = intval(ini_get("max_execution_time"));if (function_exists("set_time_limit")) @set_time_limit(0);if (function_exists("ini_set")) @ini_set("max_execution_time", 0);if (function_exists("ini_set")) @ini_set("memory_limit", "2048M");error_reporting(E_ALL & ~E_NOTICE & ~E_STRICT & ~E_DEPRECATED);$GLOBALS["__i_client_error_stack"] = array();set_error_handler("__i_client_error_handler");function __i_client_error_handler($errno, $errstr, $errfile, $errline){if (!(error_reporting() & $errno)){return;}switch ($errno){case E_ERROR:case E_USER_ERROR:$GLOBALS["__i_client_error_stack"][] = "Error: ".$errstr." in ".$errfile."[$errline] (PHP ".PHP_VERSION." ".PHP_OS.")";$_ = "__CLIENT__RESPONCE__START__".serialize(array(false,$GLOBALS["__i_client_error_stack"]))."__CLIENT__RESPONCE__END__";if (isset($_SERVER["IT_FROM_FORK"])) { file_put_contents($_SERVER["IT_FROM_FORK"], $_, LOCK_EX); touch($_SERVER["IT_FROM_FORK"], 1577858400); } else { echo $_; } exit;break;case E_WARNING:case E_USER_WARNING:$doSkipLog = strpos($errstr,"Permission denied") !== false && strpos($errstr,"unlink(") !== false|| strpos($errstr,"chmod(): Operation not permitted") !== false|| strpos($errstr,"wp-content/plugins") !== false;if (!$doSkipLog){$GLOBALS["__i_client_error_stack"][] = $errstr." in ".$errfile."[$errline] (PHP ".PHP_VERSION." ".PHP_OS.")";}break;}return true;}function __i_client_shutdown() {if ( isset($_SERVER["IT_FROM_FORK"]) && file_exists($_SERVER["IT_FROM_FORK"]) &&( $forkContent = file_get_contents($_SERVER["IT_FROM_FORK"]) )!== false && strpos($forkContent,"__CLIENT__RESPONCE__START__") === false ){$GLOBALS["__i_client_error_stack"][] = "Error: The task has been terminated by the server.";$_ = "__CLIENT__RESPONCE__START__".serialize(array(false,$GLOBALS["__i_client_error_stack"]))."__CLIENT__RESPONCE__END__";if (isset($_SERVER["IT_FROM_FORK"])) { file_put_contents($_SERVER["IT_FROM_FORK"], $_, LOCK_EX); touch($_SERVER["IT_FROM_FORK"], 1577858400); } else { echo $_; } }if (function_exists("error_get_last")){$a = error_get_last();if ( $a !== null && $a["type"] === 1 ){$GLOBALS["__i_client_error_stack"][] = "Error: ".$a["message"]." in ".$a["file"]."[".$a["line"]."]";$_ = "__CLIENT__RESPONCE__START__".serialize(array(false,$GLOBALS["__i_client_error_stack"]))."__CLIENT__RESPONCE__END__";if (isset($_SERVER["IT_FROM_FORK"])) { file_put_contents($_SERVER["IT_FROM_FORK"], $_, LOCK_EX); touch($_SERVER["IT_FROM_FORK"], 1577858400); } else { echo $_; } }}}register_shutdown_function("__i_client_shutdown"); if (isset($_SERVER["IT_REMOTE_PAYLOAD"])) @unlink(__FILE__.".ini");if ( !isset($_POST["connection_id"])|| $_POST["connection_id"] !== '2f764e2402204fe39673719219c2ed3e'|| !@unlink(__FILE__) && function_exists("sys_get_temp_dir") && !@mkdir(sys_get_temp_dir().DIRECTORY_SEPARATOR."it_nonce_".$_POST["connection_id"]) ){$GLOBALS["__i_client_error_stack"][] = "I_ACCESS_DENIED";$_ = "__CLIENT__RESPONCE__START__".serialize(array(false,$GLOBALS["__i_client_error_stack"]))."__CLIENT__RESPONCE__END__";if (isset($_SERVER["IT_FROM_FORK"])) { file_put_contents($_SERVER["IT_FROM_FORK"], $_, LOCK_EX); touch($_SERVER["IT_FROM_FORK"], 1577858400); } else { echo $_; } exit;}$nonceExpiryTime = $_SERVER["REQUEST_TIME"]-7200;$nonceList = @scandir(sys_get_temp_dir(),SCANDIR_SORT_NONE);if ( $nonceList !== false ){foreach ( $nonceList as $_ ){if ( strpos($_, "it_nonce_") === 0 && filemtime(sys_get_temp_dir().DIRECTORY_SEPARATOR.$_) < $nonceExpiryTime ){@rmdir(sys_get_temp_dir().DIRECTORY_SEPARATOR.$_);}}}$deleleExpiryTime = $_SERVER["REQUEST_TIME"]-7200;$deleteList = @scandir(dirname(__FILE__),SCANDIR_SORT_NONE);if ( $deleteList !== false ){foreach ( $deleteList as $_ ){if ( strpos($_, "deleteme.") === 0 && strpos($_, ".php") !== false && filemtime(dirname(__FILE__).DIRECTORY_SEPARATOR.$_) < $deleleExpiryTime  ){@unlink(dirname(__FILE__).DIRECTORY_SEPARATOR.$_);}}} ?><?php if ( !isset($_POST["build"]) || !isset($_POST["cmd"]) || 120 !== intval($_POST["build"]) ){$GLOBALS["__i_client_error_stack"][] = "I_OUTOFDATE";$_ = "__CLIENT__RESPONCE__START__".serialize(array(false,$GLOBALS["__i_client_error_stack"]))."__CLIENT__RESPONCE__END__";if (isset($_SERVER["IT_FROM_FORK"])) { file_put_contents($_SERVER["IT_FROM_FORK"], $_, LOCK_EX); touch($_SERVER["IT_FROM_FORK"], 1577858400); } else { echo $_; } exit;}define("ABSPATH", dirname(__FILE__)."/");if ( !file_exists(ABSPATH."wp-settings.php") || !file_exists(ABSPATH."wp-config.php") ){$GLOBALS["__i_client_error_stack"][] = "I_MISSING_CONFIG";$_ = "__CLIENT__RESPONCE__START__".serialize(array(false,$GLOBALS["__i_client_error_stack"]))."__CLIENT__RESPONCE__END__";if (isset($_SERVER["IT_FROM_FORK"])) { file_put_contents($_SERVER["IT_FROM_FORK"], $_, LOCK_EX); touch($_SERVER["IT_FROM_FORK"], 1577858400); } else { echo $_; } exit;}if ( !isset($_POST["bootstrap_plugins"]) || !$_POST["bootstrap_plugins"] ) define("SHORTINIT", true);define("WP_CLI", true);if (!class_exists("WP_CLI",false)){class WP_CLI{public function __call($method, $args) {}static public function __callStatic($method, $args) {}}class WP_CLI_Command {}class Plugin_Command {}class Theme_Command {}}define("MWP_SKIP_BOOTSTRAP", true);include_once(ABSPATH."wp-config.php");if ( !isset($_POST["bootstrap_plugins"]) || !$_POST["bootstrap_plugins"] ) eval(preg_replace(array("/^.+if\s*\(\s*SHORTINIT\s*\)/ms", "/(?:wp_get_mu_plugins|wp_get_active_network_plugins|xxwp_get_active_and_valid_plugins|wp_get_active_and_valid_themes)\(\)/", "/(foreach \( wp_get_active_and_valid_plugins.. as (.plugin) \) \{)/"), array("if(false)", "array()", "\$1 continue;"), file_get_contents(ABSPATH."wp-settings.php")));if ( $_POST["cmd"] === "list" ){include_once(ABSPATH."wp-admin/includes/file.php");include_once(ABSPATH."wp-admin/includes/plugin.php");include_once(ABSPATH."wp-admin/includes/theme.php");include_once(ABSPATH."wp-admin/includes/misc.php");include_once(ABSPATH."wp-admin/includes/template.php");include_once(ABSPATH."wp-admin/includes/class-wp-upgrader.php");include_once(ABSPATH."wp-includes/update.php");include(ABSPATH."wp-includes/version.php");if ( isset($_POST["include_update_details"]) && $_POST["include_update_details"] ){global $wp_current_filter;$_ = $wp_current_filter;$wp_current_filter = array("upgrader_process_complete");@wp_update_plugins();$wp_current_filter = $_;$ood = get_site_transient("update_plugins", array());}$o = array(array(), array(), $wp_version);$au = get_site_option("auto_update_plugins", array());foreach ( get_plugins() as $fn => $r ){$i = strpos($fn, "/") === false ? basename($fn, ".php") : dirname($fn);$o[0][$i] = $r;$o[0][$i]["_plugin"] = $fn;$o[0][$i]["_active"] = is_plugin_active($fn);$o[0][$i]["_autoup"] = in_array($fn, $au, true);if ( isset($ood) && isset($ood->response[$fn]) ){$o[0][$i]["_ud"] = array("id" => isset($ood->response[$fn]->id) ? $ood->response[$fn]->id : null,"slug" => $ood->response[$fn]->slug,"new_version" => $ood->response[$fn]->new_version,"url" => isset($ood->response[$fn]->url) ? $ood->response[$fn]->url : null,"package" => isset($ood->response[$fn]->package) ? $ood->response[$fn]->package : null,"requires" => isset($ood->response[$fn]->requires) && $ood->response[$fn]->requires !== false ? $ood->response[$fn]->requires : null,"requires_php" => isset($ood->response[$fn]->requires_php) && $ood->response[$fn]->requires_php !== false ? $ood->response[$fn]->requires_php : null);}}if ( isset($_POST["include_update_details"]) && $_POST["include_update_details"] ){global $wp_current_filter;$_ = $wp_current_filter;$wp_current_filter = array("upgrader_process_complete");@wp_update_themes();$wp_current_filter = $_;$ood = get_site_transient("update_themes", array());}$au = get_site_option("auto_update_themes", array());$currentTheme = get_stylesheet();$listAllThemes = wp_get_themes(array( "errors" => null ));foreach ( $listAllThemes as $i => $r ){$o[1][$i] = array("Name"       => $r->get("Name"),"Title"      => $r->get("Name"),"Version"    => $r->get("Version"),"Author"     => $r->get("Author"),"Author URI" => $r->get("AuthorURI"),"Template"   => $r->get_template(),"Stylesheet" => $r->get_stylesheet(),"_plugin"    => $i,"_active"    => $currentTheme === $i,"_autoup"	 => in_array($i, $au, true));if ( isset($ood) && isset($ood->response[$i]) ){$o[1][$i]["_ud"] = (array)$ood->response[$i];}}while (@ob_end_flush());$_ = "__CLIENT__RESPONCE__START__".serialize(array($o,$GLOBALS["__i_client_error_stack"]))."__CLIENT__RESPONCE__END__";if (isset($_SERVER["IT_FROM_FORK"])) { file_put_contents($_SERVER["IT_FROM_FORK"], $_, LOCK_EX); touch($_SERVER["IT_FROM_FORK"], 1577858400); } else { echo $_; } }else if ( $_POST["cmd"] === "install-plugin" ){include_once(ABSPATH."wp-admin/includes/file.php");include_once(ABSPATH."wp-admin/includes/plugin.php");include_once(ABSPATH."wp-admin/includes/theme.php");include_once(ABSPATH."wp-admin/includes/misc.php");include_once(ABSPATH."wp-admin/includes/template.php");include_once(ABSPATH."wp-admin/includes/plugin-install.php");include_once(ABSPATH."wp-admin/includes/class-wp-upgrader.php");include_once(ABSPATH."wp-admin/includes/class-wp-ajax-upgrader-skin.php");include_once(ABSPATH."wp-admin/includes/class-plugin-upgrader.php");if (isset($_POST["file"])){$listPluginsPre = array_keys(get_plugins());}else{$api = plugins_api("plugin_information",array("slug"   => $_POST["id"],"fields" => array("short_description" => false,"sections"          => false,"requires"          => false,"rating"            => false,"ratings"           => false,"downloaded"        => false,"last_updated"      => false,"added"             => false,"tags"              => false,"compatibility"     => false,"homepage"          => false,"donate_link"       => false)));if (is_wp_error($api)){$_ = "__CLIENT__RESPONCE__START__".serialize(array($api->get_error_message(),$GLOBALS["__i_client_error_stack"]))."__CLIENT__RESPONCE__END__";if (isset($_SERVER["IT_FROM_FORK"])) { file_put_contents($_SERVER["IT_FROM_FORK"], $_, LOCK_EX); touch($_SERVER["IT_FROM_FORK"], 1577858400); } else { echo $_; } return;}$_POST["file"] = $api->download_link;}$skin = new WP_Ajax_Upgrader_Skin();$upgrader = new Plugin_Upgrader($skin);if ( $upgrader->install($_POST["file"],array( "clear_update_cache" => true, "overwrite_package" => true )) !== true ){$_ = "__CLIENT__RESPONCE__START__".serialize(array(is_wp_error($upgrader->result) ? $upgrader->result->get_error_message() : false,$GLOBALS["__i_client_error_stack"]))."__CLIENT__RESPONCE__END__";if (isset($_SERVER["IT_FROM_FORK"])) { file_put_contents($_SERVER["IT_FROM_FORK"], $_, LOCK_EX); touch($_SERVER["IT_FROM_FORK"], 1577858400); } else { echo $_; } return;}if ( isset($_POST["activate"]) && $_POST["activate"] && $_POST["activate"] !== "false" ){foreach ( get_plugins() as $fn => $plugin ){$slug = strpos($fn, "/") === false ? basename($fn, ".php") : dirname($fn);if ( isset($_POST["id"]) && $_POST["id"] === $slug|| isset($_POST["file"]) && is_array($listPluginsPre) && !in_array($fn, $listPluginsPre, true) ){activate_plugin($fn);break;}}}$_ = "__CLIENT__RESPONCE__START__".serialize(array(true,$GLOBALS["__i_client_error_stack"]))."__CLIENT__RESPONCE__END__";if (isset($_SERVER["IT_FROM_FORK"])) { file_put_contents($_SERVER["IT_FROM_FORK"], $_, LOCK_EX); touch($_SERVER["IT_FROM_FORK"], 1577858400); } else { echo $_; } }else if ( $_POST["cmd"] === "update-plugin" ){include_once(ABSPATH."wp-admin/includes/file.php");include_once(ABSPATH."wp-admin/includes/plugin.php");include_once(ABSPATH."wp-admin/includes/theme.php");include_once(ABSPATH."wp-admin/includes/misc.php");include_once(ABSPATH."wp-admin/includes/template.php");include_once(ABSPATH."wp-admin/includes/class-wp-upgrader.php");include_once(ABSPATH."wp-includes/update.php");if ( !class_exists("Plugin_Upgrader") || !class_exists("Bulk_Plugin_Upgrader_Skin") ){$_ = "__CLIENT__RESPONCE__START__".serialize(array(2,$GLOBALS["__i_client_error_stack"]))."__CLIENT__RESPONCE__END__";if (isset($_SERVER["IT_FROM_FORK"])) { file_put_contents($_SERVER["IT_FROM_FORK"], $_, LOCK_EX); touch($_SERVER["IT_FROM_FORK"], 1577858400); } else { echo $_; } return;}global $wp_current_filter;$_ = $wp_current_filter;$wp_current_filter = array("upgrader_process_complete");@wp_update_plugins();$wp_current_filter = $_;$plugins = $_POST["id"];$skin = new Automatic_Upgrader_Skin();$upgrader = new Plugin_Upgrader($skin);$result = $upgrader->bulk_upgrade($plugins, array( "clear_update_cache" => false ));$messages = $upgrader->skin->get_upgrade_messages();if (!is_array($result)){foreach ( $messages as $_ ){$GLOBALS["__i_client_error_stack"][] = $_;}$_ = "__CLIENT__RESPONCE__START__".serialize(array($result,$GLOBALS["__i_client_error_stack"]))."__CLIENT__RESPONCE__END__";if (isset($_SERVER["IT_FROM_FORK"])) { file_put_contents($_SERVER["IT_FROM_FORK"], $_, LOCK_EX); touch($_SERVER["IT_FROM_FORK"], 1577858400); } else { echo $_; } return;}foreach ( $result as $pluginId => $pluginResult ){if (is_wp_error($pluginResult)){foreach ( $messages as $_ ){$GLOBALS["__i_client_error_stack"][] = $_;}$result[$pluginId] = "";foreach ( $pluginResult->errors as $errcode => $errstrList ){$result[$pluginId] .= "wp_$errcode|".join(" ",$errstrList);}foreach ( $pluginResult->error_data as $errcode => $errstr ){$result[$pluginId] .= " $errstr";}$_ = "__CLIENT__RESPONCE__START__".serialize(array($result,$GLOBALS["__i_client_error_stack"]))."__CLIENT__RESPONCE__END__";if (isset($_SERVER["IT_FROM_FORK"])) { file_put_contents($_SERVER["IT_FROM_FORK"], $_, LOCK_EX); touch($_SERVER["IT_FROM_FORK"], 1577858400); } else { echo $_; } return;}}if ( isset($_POST["v"]) && is_array($_POST["v"]) ){foreach ( get_plugins() as $fn => $r ){if ( $fn === $_POST["id"][0] && $r["Version"] === $_POST["v"][0] ){$_ = "__CLIENT__RESPONCE__START__".serialize(array(3,$GLOBALS["__i_client_error_stack"]))."__CLIENT__RESPONCE__END__";if (isset($_SERVER["IT_FROM_FORK"])) { file_put_contents($_SERVER["IT_FROM_FORK"], $_, LOCK_EX); touch($_SERVER["IT_FROM_FORK"], 1577858400); } else { echo $_; } return;}}}$_ = "__CLIENT__RESPONCE__START__".serialize(array($result,$GLOBALS["__i_client_error_stack"]))."__CLIENT__RESPONCE__END__";if (isset($_SERVER["IT_FROM_FORK"])) { file_put_contents($_SERVER["IT_FROM_FORK"], $_, LOCK_EX); touch($_SERVER["IT_FROM_FORK"], 1577858400); } else { echo $_; } }else if ( $_POST["cmd"] === "activate-plugin" || $_POST["cmd"] === "enable-plugin" ){include_once(ABSPATH."wp-admin/includes/file.php");include_once(ABSPATH."wp-admin/includes/plugin.php");include_once(ABSPATH."wp-admin/includes/theme.php");include_once(ABSPATH."wp-admin/includes/misc.php");include_once(ABSPATH."wp-admin/includes/template.php");$requestList = is_array($_POST["id"]) ? $_POST["id"] : array($_POST["id"]);$list = array();foreach ( array_keys(get_plugins()) as $fn ){$slug = strpos($fn, "/") === false ? basename($fn, ".php") : dirname($fn);if ( in_array($slug, $requestList, true) ){$list[] = $fn;}}activate_plugins($list);$_ = "__CLIENT__RESPONCE__START__".serialize(array(true,$GLOBALS["__i_client_error_stack"]))."__CLIENT__RESPONCE__END__";if (isset($_SERVER["IT_FROM_FORK"])) { file_put_contents($_SERVER["IT_FROM_FORK"], $_, LOCK_EX); touch($_SERVER["IT_FROM_FORK"], 1577858400); } else { echo $_; } }else if ( $_POST["cmd"] === "deactivate-plugin" || $_POST["cmd"] === "disable-plugin" ){include_once(ABSPATH."wp-admin/includes/file.php");include_once(ABSPATH."wp-admin/includes/plugin.php");include_once(ABSPATH."wp-admin/includes/theme.php");include_once(ABSPATH."wp-admin/includes/misc.php");include_once(ABSPATH."wp-admin/includes/template.php");$requestList = is_array($_POST["id"]) ? $_POST["id"] : array($_POST["id"]);$list = array();foreach ( array_keys(get_plugins()) as $fn ){$slug = strpos($fn, "/") === false ? basename($fn, ".php") : dirname($fn);if ( in_array($slug, $requestList, true) ){$list[] = $fn;}}deactivate_plugins($list);$_ = "__CLIENT__RESPONCE__START__".serialize(array(true,$GLOBALS["__i_client_error_stack"]))."__CLIENT__RESPONCE__END__";if (isset($_SERVER["IT_FROM_FORK"])) { file_put_contents($_SERVER["IT_FROM_FORK"], $_, LOCK_EX); touch($_SERVER["IT_FROM_FORK"], 1577858400); } else { echo $_; } }else if ( $_POST["cmd"] === "uninstall-plugin" ){include_once(ABSPATH."wp-admin/includes/file.php");include_once(ABSPATH."wp-admin/includes/plugin.php");include_once(ABSPATH."wp-admin/includes/theme.php");include_once(ABSPATH."wp-admin/includes/misc.php");include_once(ABSPATH."wp-admin/includes/template.php");$requestList = is_array($_POST["id"]) ? $_POST["id"] : array($_POST["id"]);$toRemove = array();foreach ( array_keys(get_plugins()) as $fn ){$slug = strpos($fn, "/") === false ? basename($fn, ".php") : dirname($fn);if ( in_array($slug, $requestList, true) ){if (is_plugin_active($fn)){deactivate_plugins($fn);}uninstall_plugin($fn);$plugin_translations = wp_get_installed_translations( "plugins" );$plugin_slug = $slug === "hello" ? "hello-dolly" : $slug;if ( "." !== $plugin_slug && ! empty( $plugin_translations[ $plugin_slug ] ) ) {$translations = $plugin_translations[ $plugin_slug ];global $wp_filesystem;WP_Filesystem();foreach ( $translations as $translation => $data ){$wp_filesystem->delete( WP_LANG_DIR . "/plugins/" . $plugin_slug . "-" . $translation . ".po" );$wp_filesystem->delete( WP_LANG_DIR . "/plugins/" . $plugin_slug . "-" . $translation . ".mo" );$wp_filesystem->delete( WP_LANG_DIR . "/plugins/" . $plugin_slug . "-" . $translation . ".l10n.php" );$json_translation_files = glob( WP_LANG_DIR . "/plugins/" . $plugin_slug . "-" . $translation . "-*.json" );if ( $json_translation_files ){array_map( array( $wp_filesystem, "delete" ), $json_translation_files );}}}do_action( "delete_plugin", $fn );$toRemove[] = dirname($fn);$result = true;do_action( "deleted_plugin", $fn, $result );}}$_ = "__CLIENT__RESPONCE__START__".serialize(array(true, $toRemove,$GLOBALS["__i_client_error_stack"]))."__CLIENT__RESPONCE__END__";if (isset($_SERVER["IT_FROM_FORK"])) { file_put_contents($_SERVER["IT_FROM_FORK"], $_, LOCK_EX); touch($_SERVER["IT_FROM_FORK"], 1577858400); } else { echo $_; } }else if ( $_POST["cmd"] === "install-theme" ){include_once(ABSPATH."wp-admin/includes/file.php");include_once(ABSPATH."wp-admin/includes/plugin.php");include_once(ABSPATH."wp-admin/includes/theme.php");include_once(ABSPATH."wp-admin/includes/misc.php");include_once(ABSPATH."wp-admin/includes/template.php");include_once(ABSPATH."wp-admin/includes/class-wp-upgrader.php");include_once(ABSPATH."wp-includes/update.php");if (!isset($_POST["file"])){$api = themes_api("theme_information", array( "slug" => $_POST["id"] ) );if (is_wp_error($api)){$_ = "__CLIENT__RESPONCE__START__".serialize(array($api->get_error_message(),$GLOBALS["__i_client_error_stack"]))."__CLIENT__RESPONCE__END__";if (isset($_SERVER["IT_FROM_FORK"])) { file_put_contents($_SERVER["IT_FROM_FORK"], $_, LOCK_EX); touch($_SERVER["IT_FROM_FORK"], 1577858400); } else { echo $_; } return;}$_POST["file"] = $api->download_link;}$skin = new WP_Ajax_Upgrader_Skin();$upgrader = new Theme_Upgrader($skin);if ( $upgrader->install($_POST["file"], array( "clear_update_cache" => true, "overwrite_package" => true )) !== true ){$_ = "__CLIENT__RESPONCE__START__".serialize(array(is_wp_error($upgrader->result) ? $upgrader->result->get_error_message() : false,$GLOBALS["__i_client_error_stack"]))."__CLIENT__RESPONCE__END__";if (isset($_SERVER["IT_FROM_FORK"])) { file_put_contents($_SERVER["IT_FROM_FORK"], $_, LOCK_EX); touch($_SERVER["IT_FROM_FORK"], 1577858400); } else { echo $_; } return;}if ( isset($_POST["activate"]) && $_POST["activate"] && $_POST["activate"] !== "false" ){$listAllThemes = wp_get_themes(array( "errors" => null ));foreach ( $listAllThemes as $slug => $theme ){if ( $slug === $_POST["id"] ){if ( $theme->get_stylesheet() !== $theme->get_template() && !isset($listAllThemes[$theme->get_template()]) ){$_ = "__CLIENT__RESPONCE__START__".serialize(array("The '".$theme->get_stylesheet()."' theme cannot be activated without its parent, '".$theme->get_template()."'.",$GLOBALS["__i_client_error_stack"]))."__CLIENT__RESPONCE__END__";if (isset($_SERVER["IT_FROM_FORK"])) { file_put_contents($_SERVER["IT_FROM_FORK"], $_, LOCK_EX); touch($_SERVER["IT_FROM_FORK"], 1577858400); } else { echo $_; } return;}switch_theme( $theme->get_template(), $theme->get_stylesheet() );break;}}}$_ = "__CLIENT__RESPONCE__START__".serialize(array(true,$GLOBALS["__i_client_error_stack"]))."__CLIENT__RESPONCE__END__";if (isset($_SERVER["IT_FROM_FORK"])) { file_put_contents($_SERVER["IT_FROM_FORK"], $_, LOCK_EX); touch($_SERVER["IT_FROM_FORK"], 1577858400); } else { echo $_; } }else if ( $_POST["cmd"] === "activate-theme" || $_POST["cmd"] === "enable-theme" ){include_once(ABSPATH."wp-admin/includes/file.php");include_once(ABSPATH."wp-admin/includes/plugin.php");include_once(ABSPATH."wp-admin/includes/theme.php");include_once(ABSPATH."wp-admin/includes/misc.php");include_once(ABSPATH."wp-admin/includes/template.php");$listAllThemes = wp_get_themes(array( "errors" => null ));foreach ( $listAllThemes as $slug => $theme ){if ( $slug === $_POST["id"] ){if ( get_stylesheet() === $slug ){break;}if ( $theme->get_stylesheet() !== $theme->get_template() && !isset($listAllThemes[$theme->get_template()]) ){$_ = "__CLIENT__RESPONCE__START__".serialize(array("The '".$theme->get_stylesheet()."' theme cannot be activated without its parent, '".$theme->get_template()."'.",$GLOBALS["__i_client_error_stack"]))."__CLIENT__RESPONCE__END__";if (isset($_SERVER["IT_FROM_FORK"])) { file_put_contents($_SERVER["IT_FROM_FORK"], $_, LOCK_EX); touch($_SERVER["IT_FROM_FORK"], 1577858400); } else { echo $_; } return;}switch_theme( $theme->get_template(), $theme->get_stylesheet() );break;}}if ( get_stylesheet() === $slug ){$_ = "__CLIENT__RESPONCE__START__".serialize(array(true,$GLOBALS["__i_client_error_stack"]))."__CLIENT__RESPONCE__END__";if (isset($_SERVER["IT_FROM_FORK"])) { file_put_contents($_SERVER["IT_FROM_FORK"], $_, LOCK_EX); touch($_SERVER["IT_FROM_FORK"], 1577858400); } else { echo $_; } }else{$_ = "__CLIENT__RESPONCE__START__".serialize(array(false,$GLOBALS["__i_client_error_stack"]))."__CLIENT__RESPONCE__END__";if (isset($_SERVER["IT_FROM_FORK"])) { file_put_contents($_SERVER["IT_FROM_FORK"], $_, LOCK_EX); touch($_SERVER["IT_FROM_FORK"], 1577858400); } else { echo $_; } }}else if ( $_POST["cmd"] === "autoup-theme" || $_POST["cmd"] === "autoup-plugin"|| $_POST["cmd"] === "noautoup-theme" || $_POST["cmd"] === "noautoup-plugin" ){include_once(ABSPATH."wp-admin/includes/file.php");include_once(ABSPATH."wp-admin/includes/plugin.php");include_once(ABSPATH."wp-admin/includes/theme.php");include_once(ABSPATH."wp-admin/includes/misc.php");include_once(ABSPATH."wp-admin/includes/template.php");$globalAutoUp = isset($_POST["autoup"]) ? intval($_POST["autoup"]) : null;$extType = $_POST["cmd"] === "autoup-theme" || $_POST["cmd"] === "noautoup-theme" ? "themes" : "plugins";$listAll = $extType === "themes" ? array_keys(wp_get_themes(array( "errors" => null ))) : array_keys(get_plugins());$auto_updates = get_site_option("auto_update_".$extType);if ( $auto_updates === false ){$auto_updates = array();}$requestList = is_array($_POST["id"]) ? $_POST["id"] : array($_POST["id"]);foreach ( $listAll as $fn ){$slug = $extType === "themes" ? $fn :( strpos($fn, "/") === false ? basename($fn, ".php") : dirname($fn) );if ( $_POST["cmd"] === "autoup-theme" || $_POST["cmd"] === "autoup-plugin" ){if ( in_array($slug, $requestList, true) && !in_array($fn, $auto_updates, true) ){$auto_updates[] = $fn;}else if ( $globalAutoUp === 0 && !in_array($slug, $requestList, true) ){$auto_updates = array_diff($auto_updates, array( $fn ) );}}else{if ( in_array($slug, $requestList, true) && in_array($fn, $auto_updates, true) ){$auto_updates = array_diff($auto_updates, array( $fn ) );}else if ( $globalAutoUp === 1 && !in_array($slug, $requestList, true) && !in_array($fn, $auto_updates, true) ){$auto_updates[] = $fn;}}}if (empty($auto_updates)){delete_site_option("auto_update_".$extType);}else{update_site_option("auto_update_".$extType, $auto_updates);}$_ = "__CLIENT__RESPONCE__START__".serialize(array(true,$GLOBALS["__i_client_error_stack"]))."__CLIENT__RESPONCE__END__";if (isset($_SERVER["IT_FROM_FORK"])) { file_put_contents($_SERVER["IT_FROM_FORK"], $_, LOCK_EX); touch($_SERVER["IT_FROM_FORK"], 1577858400); } else { echo $_; } }else if ( $_POST["cmd"] === "update-theme" ){include_once(ABSPATH."wp-admin/includes/file.php");include_once(ABSPATH."wp-admin/includes/plugin.php");include_once(ABSPATH."wp-admin/includes/theme.php");include_once(ABSPATH."wp-admin/includes/misc.php");include_once(ABSPATH."wp-admin/includes/template.php");include_once(ABSPATH."wp-admin/includes/class-wp-upgrader.php");include_once(ABSPATH."wp-includes/update.php");if ( !class_exists("Theme_Upgrader") || !class_exists("Bulk_Theme_Upgrader_Skin") ){$_ = "__CLIENT__RESPONCE__START__".serialize(array(2,$GLOBALS["__i_client_error_stack"]))."__CLIENT__RESPONCE__END__";if (isset($_SERVER["IT_FROM_FORK"])) { file_put_contents($_SERVER["IT_FROM_FORK"], $_, LOCK_EX); touch($_SERVER["IT_FROM_FORK"], 1577858400); } else { echo $_; } return;}$themes = $_POST["id"];$skin = new Automatic_Upgrader_Skin();$upgrader = new Theme_Upgrader($skin);$result = $upgrader->bulk_upgrade($themes,array( "clear_update_cache" => false ));$messages = $upgrader->skin->get_upgrade_messages();if (!is_array($result)){foreach ( $messages as $_ ){$GLOBALS["__i_client_error_stack"][] = $_;}$_ = "__CLIENT__RESPONCE__START__".serialize(array($result,$GLOBALS["__i_client_error_stack"]))."__CLIENT__RESPONCE__END__";if (isset($_SERVER["IT_FROM_FORK"])) { file_put_contents($_SERVER["IT_FROM_FORK"], $_, LOCK_EX); touch($_SERVER["IT_FROM_FORK"], 1577858400); } else { echo $_; } return;}foreach ( $result as $themeId => $themeResult ){if (is_wp_error($themeResult)){foreach ( $messages as $_ ){$GLOBALS["__i_client_error_stack"][] = $_;}$result[$themeId] = "";foreach ( $themeResult->errors as $errcode => $errstrList ){$result[$themeId] .= "wp_$errcode|".join(" ",$errstrList);}foreach ( $themeResult->error_data as $errcode => $errstr ){$result[$themeId] .= " $errstr";}}}$_ = "__CLIENT__RESPONCE__START__".serialize(array($result,$GLOBALS["__i_client_error_stack"]))."__CLIENT__RESPONCE__END__";if (isset($_SERVER["IT_FROM_FORK"])) { file_put_contents($_SERVER["IT_FROM_FORK"], $_, LOCK_EX); touch($_SERVER["IT_FROM_FORK"], 1577858400); } else { echo $_; } }else if ( $_POST["cmd"] === "uninstall-theme" ){include_once(ABSPATH."wp-admin/includes/file.php");include_once(ABSPATH."wp-admin/includes/plugin.php");include_once(ABSPATH."wp-admin/includes/theme.php");include_once(ABSPATH."wp-admin/includes/misc.php");include_once(ABSPATH."wp-admin/includes/template.php");$requestList = is_array($_POST["id"]) ? $_POST["id"] : array($_POST["id"]);$listAllThemes = wp_get_themes(array( "errors" => null ));foreach ( $listAllThemes as $slug => $theme ){if ( in_array($slug, $requestList) ){if ( get_stylesheet() === $slug ){$_ = "__CLIENT__RESPONCE__START__".serialize(array("Cannot delete the active theme.",$GLOBALS["__i_client_error_stack"]))."__CLIENT__RESPONCE__END__";if (isset($_SERVER["IT_FROM_FORK"])) { file_put_contents($_SERVER["IT_FROM_FORK"], $_, LOCK_EX); touch($_SERVER["IT_FROM_FORK"], 1577858400); } else { echo $_; } return;}foreach ( $listAllThemes as $sub_slug => $sub_theme ){$sub_theme_parent = $sub_theme->parent();if ( $sub_theme_parent && $sub_theme_parent->get_stylesheet() === $slug && $sub_theme_parent->exists() ){$_ = "__CLIENT__RESPONCE__START__".serialize(array("Cannot delete parent theme '$slug' that has an active child theme '$sub_slub'.",$GLOBALS["__i_client_error_stack"]))."__CLIENT__RESPONCE__END__";if (isset($_SERVER["IT_FROM_FORK"])) { file_put_contents($_SERVER["IT_FROM_FORK"], $_, LOCK_EX); touch($_SERVER["IT_FROM_FORK"], 1577858400); } else { echo $_; } return;}}delete_theme($theme->get_stylesheet());}}$_ = "__CLIENT__RESPONCE__START__".serialize(array(true, array(),$GLOBALS["__i_client_error_stack"]))."__CLIENT__RESPONCE__END__";if (isset($_SERVER["IT_FROM_FORK"])) { file_put_contents($_SERVER["IT_FROM_FORK"], $_, LOCK_EX); touch($_SERVER["IT_FROM_FORK"], 1577858400); } else { echo $_; } }?>